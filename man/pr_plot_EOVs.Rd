% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_timeseries.R
\name{pr_plot_EOVs}
\alias{pr_plot_EOVs}
\title{Essential Ocean Variables (EOV) plot for reporting}
\usage{
pr_plot_EOVs(
  df,
  EOV = "Biomass_mgm3",
  trans = "identity",
  col = "blue",
  labels = TRUE
)
}
\arguments{
\item{df}{A dataframe from \code{\link[=pr_get_EOVs]{pr_get_EOVs()}} containing Essential Ocean Variable data}

\item{EOV}{The Essential Ocean Variable parameter to plot (must match a parameter in df)}

\item{trans}{Transformation for the y-axis scale:
\itemize{
\item \code{"identity"} - No transformation (default)
\item \code{"log10"} - Log base 10 transformation
\item \code{"sqrt"} - Square root transformation
}}

\item{col}{Colour for the time series line and points (e.g., \code{"blue"}, \code{"darkred"}, \code{"#FF5733"})}

\item{labels}{Logical. Should x-axis labels be shown? Set to \code{FALSE} when combining
multiple plots vertically to save space.}
}
\value{
A patchwork object containing three ggplot2 panels stacked vertically
}
\description{
Create a three-panel figure showing Essential Ocean Variables over time,
including the raw time series, anomalies, and climatology. This format is
designed for scientific reporting and State of Environment assessments.
}
\details{
Essential Ocean Variables (EOVs) are key measurements identified by the Global
Ocean Observing System (GOOS) as critical for understanding ocean health and
change. For plankton, the two primary EOVs are:
\itemize{
\item \strong{Biomass} - Total plankton biomass (proxy for ecosystem productivity)
\item \strong{Diversity} - Species richness and diversity (proxy for ecosystem health)
}

This function creates a three-panel figure:
\subsection{Panel 1: Time Series}{

Shows the raw data over time with a smoothed trend line (LOESS). Useful for
identifying long-term trends and interannual variability.
}

\subsection{Panel 2: Anomalies}{

Shows deviations from the long-term mean, highlighting periods of unusually
high (positive anomalies) or low (negative anomalies) values. Anomalies are
calculated by subtracting the overall mean from each observation.
}

\subsection{Panel 3: Climatology}{

Shows the monthly climatology (mean Â± standard error), revealing the typical
seasonal cycle. Useful for understanding natural seasonal variability.

The function automatically handles NRS station data and CPR bioregion data,
detecting which type is present in the input dataframe.
}
}
\examples{
# Plot zooplankton biomass EOV for Port Hacking
df <- pr_get_EOVs("NRS") \%>\%
  dplyr::filter(StationCode == "PHB") \%>\%
  pr_remove_outliers(2)
pr_plot_EOVs(df, EOV = "Biomass_mgm3", trans = "identity", col = "blue")

# Stack multiple EOVs by removing x-axis labels on upper panels
library(patchwork)
p1 <- pr_plot_EOVs(df, EOV = "Biomass_mgm3", col = "blue", labels = FALSE)
p2 <- pr_plot_EOVs(df, EOV = "ShannonCopepodDiversity", col = "darkgreen")
p1 / p2

# Plot phytoplankton diversity for CPR South-east bioregion
df_cpr <- pr_get_EOVs("CPR") \%>\%
  dplyr::filter(BioRegion == "South-east") \%>\%
  pr_remove_outliers(2)
pr_plot_EOVs(df_cpr, EOV = "ShannonPhytoDiversity", 
             trans = "identity", col = "darkgreen")
}
\seealso{
\code{\link[=pr_get_EOVs]{pr_get_EOVs()}} for preparing the input data,
\code{\link[=pr_remove_outliers]{pr_remove_outliers()}} for outlier removal before plotting,
\code{\link[=pr_get_coeffs]{pr_get_coeffs()}} for extracting trend coefficients
}
